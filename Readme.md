# å‹•æ…‹é†«ç™‚é‡è¡¨å•å·ç³»çµ±

## ç³»çµ±æ¦‚è¿°

æœ¬ç³»çµ±æ˜¯ä¸€å€‹ã€ŒGoogle è¡¨å–®ç­‰ç´šã€çš„å‹•æ…‹é†«ç™‚é‡è¡¨å•å·ç³»çµ±ï¼Œæ”¯æ´å¤šç¨®é¡Œå‹ã€å•å·å€æ®µã€ä»¥åŠä½¿ç”¨è€…å¡«ç­”ç´€éŒ„çš„å„²å­˜èˆ‡å¾ŒçºŒç·¨è¼¯ã€‚

## æŠ€è¡“æ¶æ§‹

- **å‰ç«¯**: Next.js 14 (React, TypeScript, Tailwind CSS)
- **å¾Œç«¯**: Express.js (Node.js, TypeScript)
- **è³‡æ–™åº«**: MariaDB
- **ORM**: Sequelize

## æ ¸å¿ƒåŠŸèƒ½

### æ”¯æ´é¡Œå‹
- æ–‡å­—è¼¸å…¥ï¼ˆç°¡ç­”ï¼‰
- å–®é¸é¡Œ
- è¤‡é¸é¡Œ
- é‡è¡¨é¡Œï¼ˆ1-5åˆ†ã€1-7åˆ†ç­‰ï¼‰
- æ®µè½ï¼ˆç´”æ–‡å­—å…§å®¹é¡¯ç¤ºï¼‰
- æ—¥æœŸè¼¸å…¥

### ç³»çµ±ç‰¹è‰²
- å¤šå€æ®µå•å·è¨­è¨ˆ
- å‹•æ…‹å•å·çµæ§‹é…ç½®
- ä½¿ç”¨è€…å¡«ç­”è¨˜éŒ„ä¿å­˜
- æ”¯æ´å¡«ç­”å¾Œç·¨è¼¯
- é«˜åº¦æ­£è¦åŒ–çš„è³‡æ–™åº«è¨­è¨ˆ
- RESTful API è¨­è¨ˆ

## è³‡æ–™åº«è¨­è¨ˆ

### ä¸»è¦è³‡æ–™è¡¨
1. **Questionnaire** - å•å·åŸºæœ¬è³‡è¨Š
2. **Section** - å•å·å€æ®µ
3. **Question** - é¡Œç›®å®šç¾©
4. **QuestionOption** - é¡Œç›®é¸é …
5. **User** - ä½¿ç”¨è€…è³‡è¨Š
6. **Response** - å¡«ç­”ç´€éŒ„
7. **Answer** - ç­”æ¡ˆå…§å®¹
8. **AnswerOption** - é¸æ“‡é¡Œç­”æ¡ˆ

## å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚
- Node.js 18+
- MariaDB 10.6+
- npm æˆ– yarn

### å®‰è£æ­¥é©Ÿ

1. **å®‰è£æ‰€æœ‰ä¾è³´**
```bash
npm run install:all
```

2. **è¨­å®šè³‡æ–™åº«**
```bash
# å»ºç«‹ MariaDB è³‡æ–™åº«
mysql -u root -p
CREATE DATABASE medical_questionnaire CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
exit;

# è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆç·¨è¼¯ backend/.envï¼‰
cp backend/.env.example backend/.env
# ä¿®æ”¹è³‡æ–™åº«é€£ç·šè¨­å®š
```

3. **åŸ·è¡Œè³‡æ–™åº«é·ç§»å’Œç¨®å­è³‡æ–™**
```bash
npm run setup:db
```

4. **å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ**
```bash
# åŒæ™‚å•Ÿå‹•å‰å¾Œç«¯
npm run dev

# æˆ–åˆ†åˆ¥å•Ÿå‹•
npm run dev:frontend  # å‰ç«¯: http://localhost:3000
npm run dev:backend   # å¾Œç«¯: http://localhost:3001
```

5. **æ¸¬è©¦ API é€£ç·š**
```bash
npm run test:api
```

## ç³»çµ±é è¦½

### ä¸»è¦é é¢
- **é¦–é **: å•å·åˆ—è¡¨å’Œçµ±è¨ˆè³‡è¨Š
- **å•å·å¡«å¯«**: å‹•æ…‹è¡¨å–®æ¸²æŸ“å’Œé©—è­‰
- **ç®¡ç†å¾Œå°**: å•å·å»ºç«‹å’Œç®¡ç†

### æ”¯æ´çš„é¡Œå‹
- **æ–‡å­—è¼¸å…¥**: ç°¡ç­”é¡Œã€é•·æ–‡æœ¬
- **é¸æ“‡é¡Œ**: å–®é¸ã€è¤‡é¸
- **é‡è¡¨é¡Œ**: 1-5åˆ†ã€1-7åˆ†ç­‰è©•åˆ†
- **æ—¥æœŸé¡Œ**: æ—¥æœŸé¸æ“‡å™¨
- **æ®µè½**: ç´”æ–‡å­—å…§å®¹é¡¯ç¤º

### æ ¸å¿ƒç‰¹è‰²
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ**: æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®
- ğŸ¨ **ç¾ä»£åŒ– UI**: ä½¿ç”¨ Tailwind CSS ç²¾ç¾è¨­è¨ˆ
- âš¡ **å³æ™‚é©—è­‰**: è¡¨å–®å³æ™‚éŒ¯èª¤æç¤º
- ğŸ”„ **ç‹€æ…‹ç®¡ç†**: React Query æœ€ä½³åŒ–è³‡æ–™ç®¡ç†
- ğŸ›¡ï¸ **å‹åˆ¥å®‰å…¨**: å…¨é¢ TypeScript æ”¯æ´
- ğŸ—„ï¸ **é—œè¯å¼è¨­è¨ˆ**: é«˜åº¦æ­£è¦åŒ–è³‡æ–™åº«æ¶æ§‹

## å°ˆæ¡ˆçµæ§‹

```
â”œâ”€â”€ frontend/          # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/          # Next.js 13+ App Router é é¢
â”‚   â”‚   â”œâ”€â”€ components/   # React å…ƒä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/        # è‡ªå®šç¾© Hooks
â”‚   â”‚   â”œâ”€â”€ services/     # API æœå‹™
â”‚   â”‚   â”œâ”€â”€ types/        # TypeScript å‹åˆ¥
â”‚   â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•¸
â”‚   â”‚   â””â”€â”€ styles/       # æ¨£å¼æª”æ¡ˆ
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/           # Express.js å¾Œç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/  # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ models/       # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/       # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ middleware/   # ä¸­ä»‹è»Ÿé«”
â”‚   â”‚   â”œâ”€â”€ services/     # æ¥­å‹™é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ types/        # TypeScript å‹åˆ¥
â”‚   â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ migrations/       # è³‡æ–™åº«é·ç§»
â”‚   â”œâ”€â”€ seeders/         # æ¸¬è©¦è³‡æ–™
â”‚   â”œâ”€â”€ scripts/         # è³‡æ–™åº«è¨­å®šè…³æœ¬
â”‚   â””â”€â”€ package.json
â””â”€â”€ docs/              # æ–‡ä»¶
```

## API æ–‡ä»¶

### å•å·ç®¡ç†
- `GET /api/questionnaires` - å–å¾—å•å·åˆ—è¡¨
- `POST /api/questionnaires` - å»ºç«‹å•å·
- `GET /api/questionnaires/:id` - å–å¾—å•å·è©³æƒ…
- `PUT /api/questionnaires/:id` - æ›´æ–°å•å·
- `DELETE /api/questionnaires/:id` - åˆªé™¤å•å·

### å¡«ç­”ç®¡ç†
- `POST /api/responses` - æäº¤å•å·å›ç­”
- `GET /api/responses/:id` - å–å¾—å¡«ç­”è¨˜éŒ„
- `PUT /api/responses/:id` - æ›´æ–°å¡«ç­”è¨˜éŒ„

## é–‹ç™¼æŒ‡å—

### æ–°å¢é¡Œå‹
1. åœ¨ `QuestionType` æšèˆ‰ä¸­æ–°å¢é¡å‹
2. åœ¨å‰ç«¯æ–°å¢å°æ‡‰çš„å…ƒä»¶
3. åœ¨å¾Œç«¯æ–°å¢é©—è­‰é‚è¼¯

### è³‡æ–™åº«é·ç§»
```bash
cd backend
npm run db:create-migration -- --name migration-name
npm run db:migrate
```

## éƒ¨ç½²

### ç”Ÿç”¢ç’°å¢ƒå»ºç½®
```bash
npm run build
npm start
```

## æˆæ¬Š

MIT License